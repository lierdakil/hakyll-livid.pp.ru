---
author: Livid
date: 2009-12-03 14:07:31+00:00
title: Монтирование vfat-накопителей в Xfce
wordpress_id: 378
...

Я думаю, все замечали, что по умолчанию при использовании
автомонтирования подключаемых накопителей с файловой системой vfat
русские названия не отображаются (в лучшем случае вместо русских букв
видны знаки вопроса).
В интернетах полно рекомендаций подправить конфиги hal, но начиная с 5-й
линейки HAL соответствующие ключи работать перестали. Почему? Потому что
теперь HAL ждет ключей монтирования от рабочего стола. В Gnome и KDE
опции монтирования для подключаемых устройств настраиваются с разной
степенью успешности, в Xfce же эта функция появилась только в версии 4.6
(да, я знаю, я слоупок, она уже давно вышла).

<!--more-->


Пользоваться в целом достаточно просто, но неочевидно. GUI-утилиты для
редактирования опций монтирования нет. Зато есть файл
/etc/xdg/xfce4/mount.rc, который, в отсутствие пользовательских
оверрайдов и задает эти самые опции.
Для изменения опций монтирования на пользовательском уровне существует
оверрайд \$HOME/.config/xfce4/mount.rc
При использовании оверрайда разумно скопировать дефолтный конфиг и
редактировать уже его.
Не растекаясь далее мыслью по древу, diff дефолтного и моего текущего
конфигов:

    @@ -34,7 +34,10 @@
     
     [vfat]
     uid=
    -shortname=winnt
    +shortname=win95
    +codepage=1251
    +iocharset=utf8
    +noatime=true


noatime добавлен исключительно для быстродействия.
При таком конфиге vFAT-носители одинаково хорошо показывают русские
символы и в линуксах и в альтернативной операционной системе.

P.S. iocharset должен быть установлен в системную кодировку. Во всех
современных дистрибутивах -- это utf8, но в раритетах встречается koi8-r
или -- еще реже -- что-то другое. Будте внимательны!
