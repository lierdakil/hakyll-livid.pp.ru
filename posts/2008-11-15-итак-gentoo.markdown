---
author: Livid
date: 2008-11-15 10:09:26+00:00
title: Итак, Gentoo
wordpress_id: 142
tags: Gentoo ,Gentoo
...

Я, вообще, человек привычный ко многому, и знакомство с никсами началось
еще с FreeBSD 4.10. Но до Дженту мои шаловливые ручки дошли лишь
недавно.
Далее идет совокупность бессвязных впечатлений от установки и работы в
системе.

<!--more-->


Во-первых, я имел глупость скачать установочный CD 2008.1 и поставить
систему автоматическим установщиком. Тем, кто захочет повторить мою
ошибку, я этого делать не советую. Ибо
1) Это не труЪ
2) Это не-по джедайски
3) Все равно ЭТО придется пилить, не факт, что не дольше, чем собираемую
from scratch систему.
Настоящие джедаи сливают install CD (примерно 50 метров), потом сливают
т.н stage (около 200 М), являющийся минимальным системным образом,
portage, исходники kernel, и сутки сидят, буквально собирают систему.
Я джедай не настоящий, я джедай хитрый. Поэтому я еще прочитал хэндбук,
в котором много воды, но написано толково.
А вот теперь начинаются настоящие джедайства. Я-то наивный, надеялся,
что мне достаточно будет включить в ядре поддержку LVM (у меня только
/boot размером 20М не LVM-овый), и все заработает. Надежда, как
говорится, умирает в тяжелых муках и в одиночестве.
После нескольких часов мучений с RAID & LVM Install Guide, и
соответствующих статей на Gentoo Linux Wiki, я понял, что нужно-таки
собрать initrd. Долго не думал, скачал утилиту из репозитария Red Hat, и
сделал.
Вы думаете оно заработало? Как бы не так.
После этого еще пришлось примонтировать образ, MAKEDEV'ом (который
сначала пришлось поставить) создать в inird/dev все свои жесткие диски и
устройство консоли, и только после этого я, наконец, получил в свои
загребущие лапы систему. Базовую. Без X. И много еще без чего. Зато с
последним gcc (ибо только он поддерживает core2-процессоры).
Теперь я перестану плакаться, и начну рассказывать, как все на самом
деле хорошо, если не делать что-то такое, что мейнтейнер не предусмотрел
(ха! и дженту еще говорит про *предельную свободу*! да любой линух так
же свободен - если руки прямые). В общем и целом, работает все быстро. Я
не могу сказать, что быстрее, чем где-то еще. Но часто оказывается, что
*плавнее* как-то, без рывков. Это хорошо.
Пакеты (хотя какие тут к черту пакеты) ставятся легко и непринужденно.
Правда они еще компилируются, так что приходится иногда оставлять их на
ночь (особенно после

```bash
emerge -uD world
```

, по сути, обновлящего всю систему). Это тоже хорошо.
А вот отсутствие графического фронтенда для portage - это уже не очень
хорошо. Я, правда, может не нашел чего. Дело в том, что искать неудобно.
Плюс еще средний юзер консоль не любит. Хотя какой к черту средний юзер,
если джедайствовать начинаешь еще до установки системы?..
Пользовтатель средней руки так же не разберется во всех премудростях
системы. Мало того, что чтобы загрузка была быстрой и непринуженной,
надо ковырять ядро. Это еще полбеды, с этим можно жить, это просто
(особенно если иметь под рукой live cd либо бэкап рабочего ядра, пусть
это и не по-джедайски). Но вот то, что каждый пакет еще неплохо бы
настраивать посредством переменной окружения USE, это сомнительно. То
есть да, это позволяет настраивать всю систему одним махом с одной
стороны, и не оставлять "свисать" ничего лишнего с другой. Получается
этакий такой монолитный линукс. Но вот то, что флаги эти часто бывают
неочевидны, а количество из велико, для меня означало, после обнаружения
очередной нехватки функциональности,

```bash
emerge --newuse world
```

. А это подчас долго.
Не смотря на брюзжание, в Дженту работать приятно. Обычно гемморой с use
позволяет точно сказать, что есть в системе, а чего нет. На практике,
конечно, Дженту более самоволен, чем от него ожидаешь, и имеет привычку
доставлять зависимости, не интересуясь их насущной необходимостью, если
прямо не запретить это (через все тот же use), однако степень
*подконтрольности* значительно выше, чем у Debian-based и RHEL-based
дистрибутивов (Slackware не очень щупал, только видел).
Что касается хваленой скорости: если я потрачу на Debian столько же
времени, сколько вбухал в Gentoo, то он тоже будет работать быстро и без
рывков, ручаюсь месячной зарплатой.

Резюме таково: Дженту - система для джедаев, либо желающих таковыми
стать. Средний пользователь, не готовый к тому, чтобы красноглазить над
системой, просто не сможет ее допилить до удобоваримого состояния. Да,
это, безусловно, чертовски приятно, когда система делает то и работает
так, как ты ей задал. Но это часто еще и чертовски сложно. Защиты от
криворукости и банальной глупости в дженту не встроено, а ошибки на
первых порах неизбежны. Особенно они неизбежны после Ubuntu, который
*сильно* расслабляет в этом смысле.
