---
author: Livid
date: 2008-06-11 11:50:22+00:00
title: Atheros Wi-fi
wordpress_id: 11
tags: Wi-Fi, Ноутбуки ,Asus Z99L, Wi-Fi, Ноутбуки, patch
...

Определенные карточки от Atheros (а именно собранные на чипе AR5007), в
частности, стоящая на ASUS Z99l, не горят желанием работать с драйвером
madwifi. Проблема известная и немало распространенная, уже давно
существует в некотором роде патч, который не включен в основную ветку
только из-за проблем совместимости с 64-битными системами, и ответ на
вопрос можно найти на многих форумах и тп. Поэтому здесь все
представлено в несколько конспективной форме.

Если у вас 32-битный дебиан/убунту и не работает карточка Atheros, то
это сообщение может вам помочь.


<!--more-->



Сперва надо отключить идуще "в комплекте" модули ядра (без патча). В
Убунту для этой цели есть утилита, доступная здесь:
Система-\>Администрирование-\>Драйвера устройств. Нужно снять галки со
всего, в чем фигурирует название Atheros :) Достаточно, в общем-то,
снять отметку с Atheros Hardware Access Layer (Hal).

После этого перезагрузитесь.

Поскольку мы будем собирать новый драйвер из исходных кодов, как всегда
потребуется

    $ sudo apt-get install build-essential


Уже пропатченную версию исходников можно взять отсюда:
<http://snapshots.madwifi.org/special/madwifi-nr-r3366+ar5007.tar.gz>

Здесь я не буду распространяться о том, как применить патч к текуей
ветке исходников, и по моему глубокому убеждению, это не нужно вообще.

Итак, после того как вы скачали исходники, нужно их распаковать

    $ tar zxf madwifi-nr-r3366+ar5007.tar.gz


Cобрать

    $ cd madwifi-nr-r3366+ar5007
    $ make


Установить

    $ sudo make install


И загрузить

    $ sudo modprobe ath_pci


Как показала практика, модуль ath\_pci так же следует прописать в
/etc/modules, например, так:

    $ sudo bash -c "echo ath_pci >> /etc/modules"


Так же можно использовать ndis-драйвера от windows при помощи
ndiswrapper, но я предпочитаю описанный выше вариант.

P.S. В том, чтобы вспомнить, как я заставил карточку работать, мне
помогла немного устаревшая статья:
<http://www.ubuntugeek.com/atheros-ar5007-wireless-with-madwifi-on-ubuntu-804-hardy-heron.html> -
устаревшая в том смысле, что лучше использовать драйвера поновее.

Так же рекомендую посмотреть
<http://madwifi.org/wiki/UserDocs/FirstTimeHowTo>
